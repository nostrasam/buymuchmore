{% extends 'base.html' %}

{% block header %} {% include 'header.html' %} {% endblock header %}
{% block banner %} {% include 'banner.html' %} {% endblock banner %}
{% block content %}

<div class="container mb-4 home2">
    <h3 class="text-center title">Partners & Merchant Dashboard</h3>
    <div class="row">
        <form method="GET" action="{% url 'merchant_dashboard' %}" class="mb-3">
            <input type="text" name="search" value="{{ search_query }}" placeholder="Search for a merchant..." style="padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <button type="submit" style="padding: 10px 15px; border: none; background-color: #FFA500; color: white; border-radius: 4px; cursor: pointer;">Search</button>
        </form>

        <table class="table table-striped table-bordered">
            <thead class="thead-light">
                <tr>
                    <th scope="col">Company Name</th>
                    <th scope="col">Contact</th>
                    <th scope="col">Email</th>
                    <th scope="col">Phone</th>
                    <th scope="col">Postcode</th>
                </tr>
            </thead>
            <tbody>
                {% for merchant in merchants %}
                    <tr class="dashbrd">
                        <td>{{ merchant.company_name }}</td>
                        <td>{{ merchant.first_name }} {{ merchant.last_name }}</td>
                        <td>{{ merchant.email }}</td>
                        <td>{{ merchant.phone }}</td>
                        <td>{{ merchant.postcode }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="6" class="text-center">No merchants found.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock content %}
{% block footer %} {% include 'footer.html' %} {% endblock footer %}
